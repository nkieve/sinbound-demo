"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[936],{936:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a});var n=o(43),i=o(862),s=o(579);function a(e){let{cameraState:t,musicLevel:o,isHome:a,resumeAudioContext:r}=e;const l=(0,n.useRef)(null),d=(0,n.useRef)(null),[c,u]=(0,n.useState)(!1),[p,m]=(0,n.useState)(!0);(0,n.useEffect)(()=>{if(!p)return;const e=setTimeout(()=>m(!1),1800);return()=>clearTimeout(e)},[p]),(0,n.useEffect)(()=>{const e=d.current;if(!e)return;const t=()=>u(!0),o=()=>u(!1);return e.addEventListener("play",t),e.addEventListener("pause",o),()=>{e.removeEventListener("play",t),e.removeEventListener("pause",o)}},[]),(0,n.useEffect)(()=>{const e=d.current;if(!e)return;if(e.paused){const t=e.play();t&&t.catch&&t.catch(e=>{"NotAllowedError"!==e.name&&console.error("Audio play failed on Home load:",e)})}document.body&&document.body.focus();const t=o=>{"keydown"===o.type&&"Space"!==o.code&&" "!==o.key||(e.paused?e.play().then(()=>{document.removeEventListener("pointerdown",t),document.removeEventListener("keydown",t)}).catch(e=>{"NotAllowedError"!==e.name&&console.error("Audio play failed on user interaction:",e)}):(document.removeEventListener("pointerdown",t),document.removeEventListener("keydown",t)))};return document.addEventListener("pointerdown",t),document.addEventListener("keydown",t),()=>{document.removeEventListener("pointerdown",t),document.removeEventListener("keydown",t)}},[]);const h={width:"min(480px, 80vw)",height:"auto",margin:"0 0 30px 0",display:"block",maxWidth:"95vw",filter:"drop-shadow(0 0 32px #6cf) drop-shadow(0 0 8px #fff)",pointerEvents:"none",transition:"filter 0.3s",transform:`scale(${1+.8*o})`,transitionProperty:"filter, transform",transitionDuration:"0.2s",willChange:"transform"},x={position:"relative",width:"200px",height:"60px",display:"block",overflow:"hidden",borderRadius:"4px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",transition:"all 0.3s ease",pointerEvents:"auto",background:"none",border:"none",padding:0,cursor:"pointer"},f={position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",transition:"opacity 0.3s ease",pointerEvents:"none"},b={color:"#fff",textDecoration:"none",margin:"0 15px",transition:"color 0.3s ease"},[g,w]=(0,n.useState)({radio:!1,about:!1,archive:!1}),v=a&&(0,s.jsxs)("div",{style:{textAlign:"center",margin:"32px 0 0 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",pointerEvents:"auto"},children:[(0,s.jsx)("button",{id:"music-toggle-btn","aria-label":"Toggle Music",type:"button",onClick:async()=>{console.log("Play button clicked");const e=d.current;if(e){if(window.AudioContext||window.webkitAudioContext)try{const e=window._globalAudioCtx||new(window.AudioContext||window.webkitAudioContext);window._globalAudioCtx=e,"suspended"===e.state&&await e.resume()}catch(t){console.warn("AudioContext resume failed:",t)}e.paused?(r&&r.current&&r.current.resumeAudioContext&&await r.current.resumeAudioContext(),e.play().then(()=>{console.log("Audio started")}).catch(e=>{"NotAllowedError"===e.name&&alert("Your browser blocked autoplay. Please interact with the page to enable music."),console.error("Audio play failed:",e)})):(e.pause(),console.log("Audio paused"))}else console.log("Audio element not found")},style:{fontFamily:"MS Gothic, MS PGothic, Meiryo, monospace",fontSize:"1em",padding:0,borderRadius:0,border:"none",background:"none",color:"#6cf",cursor:"pointer",outline:"none",boxShadow:"none",height:64,width:64,verticalAlign:"middle",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto"},children:(0,s.jsx)("img",{id:"music-toggle-img",src:c?"/PAUSE AUDIO.png":"/PLAY AUDIO.png",alt:c?"Pause Music":"Play Music",style:{width:60,height:60,display:"block",pointerEvents:"none",userSelect:"none"}})}),!c&&(0,s.jsx)("div",{style:{color:"#fff",marginTop:12,fontSize:"1.1em",textShadow:"0 0 4px #000, 0 0 8px #6cf",background:"rgba(0,0,0,0.45)",borderRadius:8,padding:"6px 18px",maxWidth:320},children:"Click the play button to enable background music."})]});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("audio",{ref:d,id:"bg-music",src:"https://sinbound.online.s3.amazonaws.com/public/tsukihime.mp3",loop:!0,hidden:!0}),p&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#000",zIndex:1e4,opacity:p?1:0,pointerEvents:"all",transition:"opacity 0.7s cubic-bezier(.4,0,.2,1)"},children:(0,s.jsx)(i.A,{visible:p})}),(0,s.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100vw",maxWidth:"100vw",zIndex:2,pointerEvents:"auto"},children:[(0,s.jsx)("img",{ref:l,src:"https://sinbound.online.s3.amazonaws.com/public/logo_asset.png",alt:"logo",style:h}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"10px",margin:"30px 0 20px 0",pointerEvents:"auto",flexWrap:"wrap"},children:[(0,s.jsxs)("button",{style:x,tabIndex:0,onMouseEnter:()=>w(e=>({...e,radio:!0})),onMouseLeave:()=>w(e=>({...e,radio:!1})),onClick:()=>window.location.href="/radio",children:[(0,s.jsx)("img",{src:"https://sinbound.online.s3.amazonaws.com/public/radio-default.png",alt:"Radio",style:{...f,zIndex:1,opacity:g.radio?0:1},className:"default-img"}),(0,s.jsx)("img",{src:"https://sinbound.online.s3.amazonaws.com/public/radio-hover.png",alt:"Radio Hover",style:{...f,zIndex:2,opacity:g.radio?1:0},className:"hover-img"})]}),(0,s.jsxs)("button",{style:x,tabIndex:0,onMouseEnter:()=>w(e=>({...e,about:!0})),onMouseLeave:()=>w(e=>({...e,about:!1})),onClick:()=>window.location.href="/about",children:[(0,s.jsx)("img",{src:"https://sinbound.online.s3.amazonaws.com/public/about-default.png",alt:"About",style:{...f,zIndex:1,opacity:g.about?0:1},className:"default-img"}),(0,s.jsx)("img",{src:"https://sinbound.online.s3.amazonaws.com/public/about-hover.png",alt:"About Hover",style:{...f,zIndex:2,opacity:g.about?1:0},className:"hover-img"})]}),(0,s.jsxs)("button",{style:x,tabIndex:0,onMouseEnter:()=>w(e=>({...e,archive:!0})),onMouseLeave:()=>w(e=>({...e,archive:!1})),onClick:()=>window.location.href="/archive",children:[(0,s.jsx)("img",{src:"https://sinbound.online.s3.amazonaws.com/public/archive-default.png",alt:"Archive",style:{...f,zIndex:1,opacity:g.archive?0:1},className:"default-img"}),(0,s.jsx)("img",{src:"https://sinbound.online.s3.amazonaws.com/public/archive-hover.png",alt:"Archive Hover",style:{...f,zIndex:2,opacity:g.archive?1:0},className:"hover-img"})]})]}),v]}),(0,s.jsx)("div",{style:{position:"fixed",left:0,bottom:60,width:"100vw",textAlign:"center",zIndex:2},children:(0,s.jsx)("img",{src:"https://sinbound.online.s3.amazonaws.com/public/divider.png",alt:"divider",style:{width:370,maxWidth:"90%",height:33,margin:"40px auto 0 auto",display:"block"}})}),(0,s.jsxs)("footer",{style:{textAlign:"center",margin:"20px 0",color:"#fff",fontFamily:"inherit",fontSize:"1rem",position:"fixed",left:0,bottom:0,width:"100vw",zIndex:2,background:"rgba(0,0,0,0.7)"},children:[(0,s.jsx)("a",{href:"https://instagram.com/sinbound.soc",target:"_blank",style:b,children:"instagram"}),(0,s.jsx)("a",{href:"https://twitter.com/sinbound.soc",target:"_blank",style:b,children:"twitter"}),(0,s.jsx)("a",{href:"https://soundcloud.com/sinbound.soc",target:"_blank",style:b,children:"soundcloud"})]})]})}}}]);
//# sourceMappingURL=936.5bb42dc2.chunk.js.map